import{g as U,G as q,H as Y,r as v}from"./index-Df3mUFhv.js";var F,B;function Z(){return B||(B=1,F={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),F}var Q=Z();const K=U(Q);var ee=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function W(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(K[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var s=new RegExp(ee),i=null;(i=s.exec(e))!==null;)if(i[0].trim())if(i[1]){var u=i[1].trim(),p=[u,""];u.indexOf("=")>-1&&(p=u.split("=")),t.attrs[p[0]]=p[1],s.lastIndex--}else i[2]&&(t.attrs[i[2]]=i[3].trim().substring(1,i[3].length-1));return t}var te=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,ne=/^\s*$/,re=Object.create(null);function z(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?(function(n){var r=[];for(var s in n)r.push(s+'="'+n[s]+'"');return r.length?" "+r.join(" "):""})(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(z,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var se={parse:function(e,t){t||(t={}),t.components||(t.components=re);var n,r=[],s=[],i=-1,u=!1;if(e.indexOf("<")!==0){var p=e.indexOf("<");r.push({type:"text",content:p===-1?e:e.substring(0,p)})}return e.replace(te,function(h,b){if(u){if(h!=="</"+n.name+">")return;u=!1}var f,g=h.charAt(1)!=="/",E=h.startsWith("<!--"),d=b+h.length,o=e.charAt(d);if(E){var O=W(h);return i<0?(r.push(O),r):((f=s[i]).children.push(O),r)}if(g&&(i++,(n=W(h)).type==="tag"&&t.components[n.name]&&(n.type="component",u=!0),n.voidElement||u||!o||o==="<"||n.children.push({type:"text",content:e.slice(d,e.indexOf("<",d))}),i===0&&r.push(n),(f=s[i-1])&&f.children.push(n),s[i]=n),(!g||n.voidElement)&&(i>-1&&(n.voidElement||n.name===h.slice(2,-1))&&(i--,n=i===-1?r:s[i]),!u&&o!=="<"&&o)){f=i===-1?r:s[i].children;var x=e.indexOf("<",d),l=e.slice(d,x===-1?void 0:x);ne.test(l)&&(l=" "),(x>-1&&i+f.length>=0||l!==" ")&&f.push({type:"text",content:l})}}),r},stringify:function(e){return e.reduce(function(t,n){return t+z("",n)},"")}};const L=(e,t,n,r)=>{const s=[n,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(s,"warn","react-i18next::",!0);j(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...s):console?.warn&&console.warn(...s)},R={},J=(e,t,n,r)=>{j(n)&&R[n]||(j(n)&&(R[n]=new Date),L(e,t,n,r))},j=e=>typeof e=="string",I=e=>typeof e=="object"&&e!==null,P=(e,t)=>{if(!e)return!1;const n=e.props?.children??e.children;return t?n.length>0:!!n},H=e=>{if(!e)return[];const t=e.props?.children??e.children;return e.props?.i18nIsDynamicList?S(t):t},ae=e=>Array.isArray(e)&&e.every(v.isValidElement),S=e=>Array.isArray(e)?e:[e],ie=(e,t)=>{const n={...t};return n.props=Object.assign(e.props,t.props),n},X=(e,t,n,r)=>{if(!e)return"";let s="";const i=S(e),u=t?.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return i.forEach((p,h)=>{if(j(p)){s+=`${p}`;return}if(v.isValidElement(p)){const{props:b,type:f}=p,g=Object.keys(b).length,E=u.indexOf(f)>-1,d=b.children;if(!d&&E&&!g){s+=`<${f}/>`;return}if(!d&&(!E||g)||b.i18nIsDynamicList){s+=`<${h}></${h}>`;return}if(E&&g===1&&j(d)){s+=`<${f}>${d}</${f}>`;return}const o=X(d,t,n,r);s+=`<${h}>${o}</${h}>`;return}if(p===null){L(n,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:r});return}if(I(p)){const{format:b,...f}=p,g=Object.keys(f);if(g.length===1){const E=b?`${g[0]}, ${b}`:g[0];s+=`{{${E}}}`;return}L(n,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:r,child:p});return}L(n,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:r,child:p})}),s},oe=(e,t,n,r,s,i,u)=>{if(n==="")return[];const p=s.transKeepBasicHtmlNodesFor||[],h=n&&new RegExp(p.map(l=>`<${l}`).join("|")).test(n);if(!e&&!t&&!h&&!u)return[n];const b=t??{},f=l=>{S(l).forEach(c=>{j(c)||(P(c)?f(H(c)):I(c)&&!v.isValidElement(c)&&Object.assign(b,c))})};f(e);const g=se.parse(`<0>${n}</0>`),E={...b,...i},d=(l,T,c)=>{const A=H(l),k=O(A,T.children,c);return ae(A)&&k.length===0||l.props?.i18nIsDynamicList?A:k},o=(l,T,c,A,k)=>{l.dummy?(l.children=T,c.push(v.cloneElement(l,{key:A},k?void 0:T))):c.push(...v.Children.map([l],m=>{const a={...m.props};return delete a.i18nIsDynamicList,v.createElement(m.type,{...a,key:A,ref:m.props.ref??m.ref},k?null:T)}))},O=(l,T,c)=>{const A=S(l);return S(T).reduce((m,a,C)=>{const V=a.children?.[0]?.content&&r.services.interpolator.interpolate(a.children[0].content,E,r.language);if(a.type==="tag"){let N=A[parseInt(a.name,10)];!N&&t&&(N=t[a.name]),c.length===1&&!N&&(N=c[0][a.name]),N||(N={});const y=Object.keys(a.attrs).length!==0?ie({props:a.attrs},N):N,w=v.isValidElement(y),D=w&&P(a,!0)&&!a.voidElement,_=h&&I(y)&&y.dummy&&!w,M=I(t)&&Object.hasOwnProperty.call(t,a.name);if(j(y)){const $=r.services.interpolator.interpolate(y,E,r.language);m.push($)}else if(P(y)||D){const $=d(y,a,c);o(y,$,m,C)}else if(_){const $=O(A,a.children,c);o(y,$,m,C)}else if(Number.isNaN(parseFloat(a.name)))if(M){const $=d(y,a,c);o(y,$,m,C,a.voidElement)}else if(s.transSupportBasicHtmlNodes&&p.indexOf(a.name)>-1)if(a.voidElement)m.push(v.createElement(a.name,{key:`${a.name}-${C}`}));else{const $=O(A,a.children,c);m.push(v.createElement(a.name,{key:`${a.name}-${C}`},$))}else if(a.voidElement)m.push(`<${a.name} />`);else{const $=O(A,a.children,c);m.push(`<${a.name}>${$}</${a.name}>`)}else if(I(y)&&!w){const $=a.children[0]?V:null;$&&m.push($)}else o(y,V,m,C,a.children.length!==1||!V)}else if(a.type==="text"){const N=s.transWrapTextNodes,y=u?s.unescape(r.services.interpolator.interpolate(a.content,E,r.language)):r.services.interpolator.interpolate(a.content,E,r.language);N?m.push(v.createElement(N,{key:`${a.name}-${C}`},y)):m.push(y)}return m},[])},x=O([{dummy:!0,children:e||[]}],g,S(e||[]));return H(x[0])},G=(e,t,n)=>{const r=e.key||t,s=v.cloneElement(e,{key:r});if(!s.props||!s.props.children||n.indexOf(`${t}/>`)<0&&n.indexOf(`${t} />`)<0)return s;function i(){return v.createElement(v.Fragment,null,s)}return v.createElement(i,{key:r})},le=(e,t)=>e.map((n,r)=>G(n,r,t)),ce=(e,t)=>{const n={};return Object.keys(e).forEach(r=>{Object.assign(n,{[r]:G(e[r],r,t)})}),n},ue=(e,t,n,r)=>e?Array.isArray(e)?le(e,t):I(e)?ce(e,t):(J(n,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:r}),null):null,pe=e=>!I(e)||Array.isArray(e)?!1:Object.keys(e).reduce((t,n)=>t&&Number.isNaN(Number.parseFloat(n)),!0);function fe({children:e,count:t,parent:n,i18nKey:r,context:s,tOptions:i={},values:u,defaults:p,components:h,ns:b,i18n:f,t:g,shouldUnescape:E,...d}){const o=f||q();if(!o)return J(o,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:r}),e;const O=g||o.t.bind(o)||(_=>_),x={...Y(),...o.options?.react};let l=b||O.ns||o.options?.defaultNS;l=j(l)?[l]:l||["translation"];const T=X(e,x,o,r),c=p||T||x.transEmptyNodeValue||r,{hashTransKey:A}=x,k=r||(A?A(T||c):T||c);o.options?.interpolation?.defaultVariables&&(u=u&&Object.keys(u).length>0?{...u,...o.options.interpolation.defaultVariables}:{...o.options.interpolation.defaultVariables});const m=u||t!==void 0&&!o.options?.interpolation?.alwaysFormat||!e?i.interpolation:{interpolation:{...i.interpolation,prefix:"#$?",suffix:"?$#"}},a={...i,context:s||i.context,count:t,...u,...m,defaultValue:c,ns:l},C=k?O(k,a):c,V=ue(h,C,o,r);let N=V||e,y=null;pe(V)&&(y=V,N=e);const w=oe(N,y,C,o,x,a,E),D=n??x.defaultTransParent;return D?v.createElement(D,d,w):w}const me=v.createContext();function ye({children:e,count:t,parent:n,i18nKey:r,context:s,tOptions:i={},values:u,defaults:p,components:h,ns:b,i18n:f,t:g,shouldUnescape:E,...d}){const{i18n:o,defaultNS:O}=v.useContext(me)||{},x=f||o||q(),l=g||x?.t.bind(x);return fe({children:e,count:t,parent:n,i18nKey:r,context:s,tOptions:i,values:u,defaults:p,components:h,ns:b||l?.ns||O||x?.options?.defaultNS,i18n:x,t:g,shouldUnescape:E,...d})}export{ye as T};
