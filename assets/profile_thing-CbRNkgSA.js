import{T as l,U as u,V as g,W as h,R as p,j as i,m as d}from"./index-BDcoZxoC.js";function y(t){t.values.forEach(r=>r.stop())}function c(t,r){[...r].reverse().forEach(n=>{const a=t.getVariant(n);a&&u(t,a),t.variantChildren&&t.variantChildren.forEach(o=>{c(o,r)})})}function T(t,r){if(Array.isArray(r))return c(t,r);if(typeof r=="string")return c(t,[r]);u(t,r)}function P(){const t=new Set,r={subscribe(s){return t.add(s),()=>void t.delete(s)},start(s,n){const a=[];return t.forEach(o=>{a.push(l(o,s,{transitionOverride:n}))}),Promise.all(a)},set(s){return t.forEach(n=>{T(n,s)})},stop(){t.forEach(s=>{y(s)})},mount(){return()=>{r.stop()}}};return r}function b(){const t=g(P);return h(t.mount,[]),t}function x({text:t="Default text",src:r="./logo512.png",animation:s=!0,image:n=!0,onClick:a,children:o}){const e=b(),f=async()=>{a&&a(t),await e.start({y:-5,transition:{type:"tween",duration:.1,ease:"easeOut"}}),await e.start({y:0,transition:{type:"spring",stiffness:200,damping:10,mass:1.2}})};return i.jsxs(d.div,{animate:e,className:`ProfileThingDiv${s?" anim":""}`,onClick:f,children:[i.jsx("img",{src:r,alt:"avatar",draggable:"false",className:`ProfileThingImage${n?"":" noimg"}`,onError:m=>m.currentTarget.src="./logo512.png"}),i.jsxs("p",{className:"ProfileThingText",children:[o,t]})]})}const j=p.memo(x,(t,r)=>t.text===r.text&&t.src===r.src&&t.animation===r.animation&&t.image===r.image);export{j as P,b as u};
