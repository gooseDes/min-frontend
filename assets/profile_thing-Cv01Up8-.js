import{_ as g,$ as l,a0 as h,a1 as p,R as y,j as i,m as d}from"./index-BvKbv_uo.js";function T(t){t.values.forEach(a=>a.stop())}function c(t,a){[...a].reverse().forEach(n=>{const r=t.getVariant(n);r&&l(t,r),t.variantChildren&&t.variantChildren.forEach(o=>{c(o,a)})})}function x(t,a){if(Array.isArray(a))return c(t,a);if(typeof a=="string")return c(t,[a]);l(t,a)}function P(){const t=new Set,a={subscribe(s){return t.add(s),()=>void t.delete(s)},start(s,n){const r=[];return t.forEach(o=>{r.push(g(o,s,{transitionOverride:n}))}),Promise.all(r)},set(s){return t.forEach(n=>{x(n,s)})},stop(){t.forEach(s=>{T(s)})},mount(){return()=>{a.stop()}}};return a}function b(){const t=h(P);return p(t.mount,[]),t}function C({text:t="Default text",src:a="./logo512.png",animation:s=!0,image:n=!0,onClick:r,children:o,...f}){const u=b(),m=async e=>{r&&r(t,e),await u.start({y:-5,transition:{type:"tween",duration:.1,ease:"easeOut"}}),await u.start({y:0,transition:{type:"spring",stiffness:200,damping:10,mass:1.2}})};return i.jsxs(d.div,{initial:{x:-250,opacity:0},animate:{x:0,opacity:1},className:`ProfileThingDiv${s?" anim":""}`,onClick:m,...f,children:[i.jsx("img",{src:a,alt:"avatar",draggable:"false",className:`ProfileThingImage${n?"":" noimg"}`,onError:e=>e.currentTarget.src="./logo512.png"}),i.jsxs("p",{className:"ProfileThingText",children:[o,t]})]})}const w=y.memo(C,(t,a)=>t.text===a.text&&t.src===a.src&&t.animation===a.animation&&t.image===a.image&&t.style===a.style);export{w as P,b as u};
